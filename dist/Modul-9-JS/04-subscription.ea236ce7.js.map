{"mappings":"AAAA,8BAA8B;AAC9B,sCAAsC;AAEtC,MAAM,OAAO;IACX,OAAO,SAAS,aAAa,CAAC;IAC9B,cAAc,SAAS,aAAa,CAAC;AACvC;AACA,MAAM,eAAe;AACrB,MAAM,sBAAsB;AAC5B,IAAI,gBAAgB;AACpB,IAAI,gBAAgB,KAAK;AACzB,MAAM,QAAQ,IAAI,IAAI,KAAK,CAAC;AAE5B;AAEA,KAAK,KAAK,CAAC,gBAAgB,CAAC,iBAAiB;AAC7C,KAAK,YAAY,CAAC,gBAAgB,CAAC,SAAS;AAE5C,SAAS,YAAY;IACnB,IAAI,kBAAkB,uBAAuB,eAAe;QAC1D,QAAQ,GAAG,CAAC;QACZ;IACF,CAAC;IAED,WAAW,IAAM;QACf,QAAQ,GAAG,CAAC;QACZ,MAAM,IAAI;QACV,iBAAiB;IACnB,GAAG;AACL;AAEA,SAAS,sBAAsB;IAC7B,gBAAgB,IAAI;IACpB,MAAM,IAAI;AACZ","sources":["src/Modul-9-JS/js/04-subscription.js"],"sourcesContent":["// import \"../css/common.css\";\r\n// import BSN from \"bootstrap.native\";\r\n\r\nconst refs = {\r\n  modal: document.querySelector(\"#subscription-modal\"),\r\n  subscribeBtn: document.querySelector(\"button[data-subscribe]\"),\r\n};\r\nconst PROMPT_DELAY = 3000;\r\nconst MAX_PROMPT_ATTEMPTS = 3;\r\nlet promptCounter = 0;\r\nlet hasSubscribed = false;\r\nconst modal = new BSN.Modal(\"#subscription-modal\");\r\n\r\nopenModal();\r\n\r\nrefs.modal.addEventListener(\"hide.bs.modal\", openModal);\r\nrefs.subscribeBtn.addEventListener(\"click\", onSubscribeBtnClick);\r\n\r\nfunction openModal() {\r\n  if (promptCounter === MAX_PROMPT_ATTEMPTS || hasSubscribed) {\r\n    console.log(\"Максимальное кол-во надоеданий или подписался\");\r\n    return;\r\n  }\r\n\r\n  setTimeout(() => {\r\n    console.log(\"Открываем надоедалку\");\r\n    modal.show();\r\n    promptCounter += 1;\r\n  }, PROMPT_DELAY);\r\n}\r\n\r\nfunction onSubscribeBtnClick() {\r\n  hasSubscribed = true;\r\n  modal.hide();\r\n}\r\n"],"names":[],"version":3,"file":"04-subscription.ea236ce7.js.map","sourceRoot":"/__parcel_source_root/"}