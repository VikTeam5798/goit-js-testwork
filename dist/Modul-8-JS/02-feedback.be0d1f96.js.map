{"mappings":"AAAA,0CAA0C;AAC1C,8BAA8B;AAC9B,qCAAqC;AAErC,MAAM,cAAc;AAEpB,MAAM,OAAO;IACX,MAAM,SAAS,aAAa,CAAC;IAC7B,UAAU,SAAS,aAAa,CAAC;AACnC;AAEA,KAAK,IAAI,CAAC,gBAAgB,CAAC,UAAU;AACrC,KAAK,QAAQ,CAAC,gBAAgB,CAAC,SAAS,SAAS,iBAAiB;AAElE;AAEA;;;;CAIC,GACD,SAAS,aAAa,GAAG,EAAE;IACzB,IAAI,cAAc;IAElB,QAAQ,GAAG,CAAC;IACZ,IAAI,aAAa,CAAC,KAAK;IACvB,aAAa,UAAU,CAAC;AAC1B;AAEA;;;;CAIC,GACD,SAAS,gBAAgB,GAAG,EAAE;IAC5B,MAAM,UAAU,IAAI,MAAM,CAAC,KAAK;IAEhC,aAAa,OAAO,CAAC,aAAa;AACpC;AAEA;;;CAGC,GACD,SAAS,mBAAmB;IAC1B,MAAM,eAAe,aAAa,OAAO,CAAC;IAE1C,IAAI,cACF,KAAK,QAAQ,CAAC,KAAK,GAAG;AAE1B,EAEA,QAAQ;CACR,kFAAkF;CAElF,uBAAuB;CAEvB,6CAA6C;CAC7C,mCAAmC;CACnC,oCAAoC;CAEpC,8CAA8C;CAE9C,2BAA2B;CAC3B,MAAM","sources":["src/Modul-8-JS/js/02-feedback.js"],"sourcesContent":["// import throttle from \"lodash.throttle\";\r\n// import \"../css/common.css\";\r\n// import \"../css/feedback-form.css\";\r\n\r\nconst STORAGE_KEY = \"feedback-msg\";\r\n\r\nconst refs = {\r\n  form: document.querySelector(\".js-feedback-form\"),\r\n  textarea: document.querySelector(\".js-feedback-form  textarea\"),\r\n};\r\n\r\nrefs.form.addEventListener(\"submit\", onFormSubmit);\r\nrefs.textarea.addEventListener(\"input\", throttle(onTextareaInput, 200));\r\n\r\npopulateTextarea();\r\n\r\n/*\r\n * - Останавливаем поведение по умолчанию\r\n * - Убираем сообщение из хранилища\r\n * - Очищаем форму\r\n */\r\nfunction onFormSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  console.log(\"Отправляем форму\");\r\n  evt.currentTarget.reset();\r\n  localStorage.removeItem(STORAGE_KEY);\r\n}\r\n\r\n/*\r\n * - Получаем значение поля\r\n * - Сохраняем его в хранилище\r\n * - Можно добавить throttle\r\n */\r\nfunction onTextareaInput(evt) {\r\n  const message = evt.target.value;\r\n\r\n  localStorage.setItem(STORAGE_KEY, message);\r\n}\r\n\r\n/*\r\n * - Получаем значение из хранилища\r\n * - Если там что-то было, обновляем DOM\r\n */\r\nfunction populateTextarea() {\r\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\r\n\r\n  if (savedMessage) {\r\n    refs.textarea.value = savedMessage;\r\n  }\r\n}\r\n\r\n// Домой\r\n// сделать так чтобы сохраняло не только сообщение но и имя, и все в одном обьекте\r\n\r\n// const formData = {};\r\n\r\n// refs.form.addEventListener('input', e => {\r\n//   // console.log(e.target.name);\r\n//   // console.log(e.target.value);\r\n\r\n//   formData[e.target.name] = e.target.value;\r\n\r\n//   console.log(formData);\r\n// });\r\n"],"names":[],"version":3,"file":"02-feedback.be0d1f96.js.map","sourceRoot":"/__parcel_source_root/"}